group 'tigase.rpi.home'
version '1.0.0-SNAPSHOT'

apply plugin: 'java'
apply plugin: 'application'

sourceCompatibility = 1.8
targetCompatibility = 1.8
mainClassName = "tigase.rpi.home.runtime.Main"

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java
        }
    }
}

repositories {
    maven {url "https://oss.sonatype.org/content/groups/public"}
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile project(':tigase-pi-home-library')
    compile project(':tigase-pi-home-devices')
    compile group: 'tigase', name: 'tigase-server', version: '7.2.0-SNAPSHOT'
    compile 'tigase:jaxmpp-j2se:3.2.0-SNAPSHOT'
    compile 'tigase:jaxmpp-adhoc:3.2.0-SNAPSHOT'
    compile 'tigase:jaxmpp-chat:3.2.0-SNAPSHOT'
    compile 'tigase:jaxmpp-im:3.2.0-SNAPSHOT'
    compile 'tigase:jaxmpp-pubsub:3.2.0-SNAPSHOT'
}

run {
    if (project.hasProperty("configFile")) {
        args(configFile.split(","));
    }
}